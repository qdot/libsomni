SET(LIBRARY_SRCS PhantomOmniDevice.cc)

IF(NOT APPLE)
  LIST(APPEND LIBRARY_SRCS PhantomOmniCommunicationsLinux.cc)
ELSE()
  LIST(APPEND LIBRARY_SRCS PhantomOmniCommunicationsOSX.cc)
ENDIF()

BUILDSYS_BUILD_LIB(
  NAME somni
  SOURCES "${LIBRARY_SRCS}" 
  CXX_FLAGS FALSE
  LINK_LIBS "${LIBSOMNI_REQ_LIBS}"
  LINK_FLAGS FALSE 
  DEPENDS FALSE
  SHOULD_INSTALL TRUE
  VERSION "${LIBSOMNI_VERSION}"
  )
