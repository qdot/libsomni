SET(LIBRARY_SRCS PhantomDevice.cc)

IF(APPLE)
  LIST(APPEND LIBRARY_SRCS PhantomCommunicationsLinux.cc)
ELSEIF(LINUX)
  LIST(APPEND LIBRARY_SRCS PhantomCommunicationsOSX.cc)
ENDIF()

BUILDSYS_BUILD_LIB(
  NAME somni
  SOURCES "${LIBRARY_SRCS}" 
  CXX_FLAGS FALSE
  LINK_LIBS "${LIBSOMNI_REQ_LIBS}"
  LINK_FLAGS FALSE 
  DEPENDS FALSE
  SHOULD_INSTALL TRUE
  VERSION "${LIBSOMNI_VERSION}"
  )
